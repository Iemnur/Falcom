//====================================================================
//ステージトラップスクリプト
//[17031][異－ボス２①]
//====================================================================

#ScriptTable

//--------------------------------------------------------------------
//■グローバルフラグ
// 2989		フードスロット
// Fx_732Food1 ボス２② 宝箱（並）	飯

//■ルートフラグ 2096-2192

// 2110 ボス２① ③ボタンスイッチ
// 2112 ボス２① つきの大ジャンプ（初回

// 2120 ボス２③ ①ボタンスイッチ
// 2121 ボス２③ ②ボタンスイッチ

// 2150 ボス２① ①壷
// 2151 ボス２① ②ハニワ
// 2152 ボス２① ③壷
// 2153 ボス２① ④壷
// 2154 ボス２① ⑤壷
// 2155 ボス２① ⑥壷

// 2160 ボス２② ①壷
// 2161 ボス２② ②壷
// 2162 ボス２② ③壷
// 2163 ボス２② ④壷

// 2170 ボス２③ ①壷
// 2171 ボス２③ ②壷
// 2172 ボス２③ ③壷
// 2173 ボス２③ ④壷

// 2185 ボス２② ⑤バリケード
// 2186 ボス２② ⑩顔の置物
// 2187 ボス２② ⑪顔の置物


//■ローカルフラグ
//x 100 ③ボタンスイッチ
// 103 ⑬敵⑫敵が出現
// 104 ⑪敵が出現
// 111,112,113,114,115,116,117 麻成長a

#TREASURE_CH	49
#Fx_TREASURE	2307	//☆007黒真珠

//--------------------------------------------------------------------
INIT
{
//環境SE
	SE(68,0)

//■地形

//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
//■階段・扉
	set_chr( 90,990,	 5, 5,     0, -50,  0,		180,  0201, 6,"K1_17029;")	//①エントリ ボス１終
	set_obj("@obx2122a", 5, 5,     0,   0,  0,		180)						//①アーチ（異３）	
	set_chr(190,1400,	 5, 5,     0,   0,  0,		  0,   180, 0,";")		//アーチ（ダミー）

	set_chr( 91,990,	 5, 6,     0,  50,  0,		  0,  0201, 6,"K0_0;")	//②エントリ ボス２②
	set_obj("@obx2112a", 5, 6,     0,   0,  0,		  0)					//②階段上（異３）
	set_chr(191,1301,	 5, 6,     0,   0,  0,		  0,     0, 0,";")		//階段上（ダミー）

	set_chr( 50,1204,	 4, 5,  -900,   0,  0,		  3,   270, 6,";")	//③扉（異３） 自由
	set_chr( 51,1204,	 4, 6,  -900,   0,  0,		  3,   270, 6,";")	//④扉（異３） 自由
	set_chr( 52,1204,	 4, 7,   900,   0,  0,		  8,    90, 6,";")	//⑤扉（異３） 一通
	set_chr( 53,1204,	 4, 7,     0, 900,  0,		  8,     0, 6,";")	//⑥扉（異３） 一通
	set_chr( 54,1204,	 4, 4,  -900,   0,  0,		  3,   270, 6,";")	//⑦扉（異３） 自由
	set_chr( 55,1204,	 4, 4,   900,   0,  0,		  3,    90, 6,";")	//⑧扉（異３） 自由
	set_chr( 56,1204,	 5, 4,     0,-900,  0,		  3,     0, 6,";")	//⑨扉（異３） 自由
	set_chr( 57,1204,	 7, 5,  -900,   0,  0,		  3,    90, 6,";")	//⑩扉（異３） 自由
	set_chr( 58,1204,	 7, 6,     0, 900,  0,		  3,   180, 6,";")	//⑪扉（異３） 自由
	set_chr( 59,1204,	 6, 8,     0,-900,  0,		  3,   180, 6,";")	//⑫扉（異３） 一通
	set_chr( 60,1204,	 7, 5,     0,-900,  0,		  7,   180, 6,";")	//⑬扉（異３） 閉鎖

//■スイッチ・看板
//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
	// 麻
	set_chr( 62,670,	 6, 7,     0,-175,  5,		  2,     0, 8,"(F117 M3_99 SF111 WT?20 RF117 F117 M4_99 SF112 WT?20 RF117 F117 M5_99 SF113 WT?20 RF117 F117 M6_99 SF114 WT?20 RF117 F117 M7_99 SF115 WT?20 RF117 F117 M8_99 SF116 WT?60 M9_99 O0_1303 WT?120 RF117)") //①麻
	set_chr( 63,670,	 6, 6,     0, 175,  5,		  2,     0, 8,"(F117 M3_99 SF111 WT?20 RF117 F117 M4_99 SF112 WT?20 RF117 F117 M5_99 SF113 WT?20 RF117 F117 M6_99 SF114 WT?20 RF117 F117 M7_99 SF115 WT?20 RF117 F117 M8_99 SF116 WT?60 M9_99 O0_1303 WT?120 RF117)") //②麻

//	set_chr( 64,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"(            F111 O0_1303                 F112 O0_1303                 F113 O0_1303                F114 O0_1303                  F115 O0_1303                 F116 O0_1303 WT?60 O0_1303 )") //②麻
//		SE(1311, 65)
//		SE(1311, 65)


	// 月
	set_chr( 65,711,	 6, 7,     0,-900,200,		  5,     0, 8,"(F111 <EV_MoonJump3> F112 <EV_MoonJump4> F113 <EV_MoonJump5> F114 <EV_MoonJump6> F115 SF104 <EV_MoonJump7> F116 SF103 <EV_MoonJump8> F117 RF111 RF112 RF113 RF114 RF115 RF116);")
	set_chr( 66,991,	 6, 7,     0,-700,  0,		  0,	0401,	0,";")
	chr_equip_chr( 66, 65, "moon_ball_null", 100, 0,0,0, 0,0,-200)
	
	color2( 65, 100,100, 0, 0,0,0)	// 異次元の雪球の色（月っぽい）
	set_chr(162,990,	 6, 7,     0,-175,350,		  2,010101, 6,"!F117 SF117 O0_1303") //麻成長1b
	set_chr(163,990,	 6, 6,     0, 175,350,		  2,010101, 6,"!F117 SF117 O0_1303") //麻成長1b

	if ( !F2112 )
	{
		set_chr(168,990,	 0, 0,     0,   0,  0,		  0,    0, 8,"F116 O1_18 SF2112;")
	}


	if ( !F2110 )
	{
	// 初回
		set_chr( 67,570,	 5, 7,	   0,-750,  0,		  6,     0, 5,"M6?99 M5_99 SF2110;")	//③ボタンスイッチ
		set_chr(167,990,	 0, 0,     0,   0,  0,  	  0,     0, 8,"F2110 O1_18 WT?10 C0_60 WT?20 M4_60 WT?30 C0_0;")//③ボタンスイッチ押下
	}
	else
	{
	// 押され
		set_chr( 67,570,	 5, 7,	   0,-750,  0,		  7,     0, 3,";")	//③ボタンスイッチ
		MOT( 60, 6, 0 )
	}

//■ハニワ・壷

	if (!F2150)
	{
		set_chr( 40,802,	 4, 5,  -150,-700,  0,		  2,    45, 0,"I_$$$1 SF2150 V4_140;")	//①壷
		set_chr(140,811,	 4, 5,  -150,-700,  0,		 -1,    45, 0,";")
	}
	else
	{
		set_chr(140,811,	 4, 5,  -150,-700,  0,		  0,    45, 0,";")
	}


	if (!F2151)
	{
		set_chr( 41,634,	 3, 7,    50, -50,215,		  2,   270, 0,"I_US01 SF2151 V4_141;")	//②ハニワ
		set_chr(141,812,	 3, 7,    50, -50,  0,		 -1,   270, 0,";")
	}
	else
	{
		set_chr(141,812,	 3, 7,    50, -50,  0,		  0,   270, 0,";")
	}


	if (!F2152)
	{
		set_chr( 42,802,	 5, 4,   750,-150,  0,		  2,   145, 0,"I_$$$1 SF2152 V4_142;")	//③壷
		set_chr(142,811,	 5, 4,   750,-150,  0,		 -1,   145, 0,";")
	}
	else
	{
		set_chr(142,811,	 5, 4,   750,-150,  0,		  0,   145, 0,";")
	}


	if (!F2153)
	{
		set_chr( 43,802,	 6, 3,   -75,  75,  0,		  2,   210, 0,"I_$$$1 SF2153 V4_143;")	//④壷
		set_chr(143,811,	 6, 3,   -75,  75,  0,		 -1,   210, 0,";")
	}
	else
	{
		set_chr(143,811,	 6, 3,   -75,  75,  0,		  0,   210, 0,";")
	}


	if (!F2154)
	{
		set_chr( 44,802,	 6, 7,     0, 750,  0,		  2,   180, 0,"I_$$$1 SF2154 V4_144;")	//⑤壷
		set_chr(144,811,	 6, 7,     0, 750,  0,		 -1,   180, 0,";")
	}
	else
	{
		set_chr(144,811,	 6, 7,     0, 750,  0,		  0,   180, 0,";")
	}


	if (!F2155)
	{
		set_chr( 45,802,	 5, 7,   700, 150,  0,		  2,   300, 0,"I_$$$1 SF2155 V4_145;")	//⑥壷
		set_chr(145,811,	 5, 7,   700, 150,  0,		 -1,   300, 0,";")
	}
	else
	{
		set_chr(145,811,	 5, 7,   700, 150,  0,		  0,   300, 0,";")
	}



//■宝箱
	if( !Fx_TREASURE )
		set_chr( TREASURE_CH,561,	 7, 4,     0,   0,  0,		  6,     0,20,"<TK_TREASURE>;")
	else
		set_chr( TREASURE_CH,561,	 7, 4,     0,   0,  0,		  7,     0, 0,";")





//■罠・障害物
	set_chr(120,627,	 5, 4,     0, 350,  0,		  0,     0, 0,";")	//柵小
	color2(120, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(121,698,	 5, 4,   900,-175,  0,		  0,    90, 0,";")	//柵中
	color2(121, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(122,698,	 4, 5,  -175,-900,  0,		  0,     0, 0,";")	//柵中
	color2(122, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(123,627,	 7, 4,  -900,   0,  0,		  0,    90, 0,";")	//柵小
	color2(123, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(125,627,	 6, 6,   900,   0,  0,		  0,    90, 0,";")	//柵小
	color2(125, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(127,698,	 6, 7,  -900, 175,  0,		  0,    90, 0,";")	//柵中
	color2(127, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(128,627,	 6, 7,  -385,-900,  0,		  0,     0, 0,";")	//柵小
	color2(128, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(129,627,	 6, 7,   385,-900,  0,		  0,     0, 0,";")	//柵小
	color2(129, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(130,627,	 5, 7,     0,-350,  0,		  0,     0, 0,";")	//柵小
	color2(130, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(131,627,	 3, 7,     0,-900,  0,		  0,     0, 0,";")	//柵小
	color2(131, 61,73,100, 0,0,0)	// 異次元の柵の色

	set_chr(133,632,	 3, 5,     0,   0,  0,		  2,     0, 0,"I_$$$1") //②バリケード
	set_chr(134,632,	 3, 6,     0,   0,  0,		  2,     0, 0,"I_$$$1") //③バリケード
	set_chr(135,632,	 3, 7,     0,   0,  0,		  2,     0, 0,"I_$$$1 D1_41") //④バリケード
	set_chr(136,632,	 7, 5,     0,   0,  0,		  2,     0, 0,"I_$$$1") //⑤バリケード
	set_chr(137,632,	 7, 6,     0,   0,  0,		  2,     0, 0,"I_$$$1") //⑥バリケード
	set_chr(138,632,	 4, 3,   900, 200,  0,		  2,    90, 0,"I_$$$1") //⑦バリケード
	set_chr(139,632,	 5, 7,   200, 900,  0,		  2,    90, 0,"I_$$$1") //⑧バリケード


//■敵
//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
	set_chr(  2,152,	 4, 4,  -300, 700,  0,		  2,     0, 0,";")	//①敵a ないと
	set_chr(  3,152,	 4, 4,  -100, 700,  0,		  2,     0, 0,";")	//①敵b ないと

	set_chr(  5,280,	 3, 5,  -200, 900,  0,		  2,   270, 0,";")	//②敵 でーもん
	set_chr(  6,280,	 5, 3,     0,   0,  0,		  2,     0, 0,";")	//③敵 でーもん
	set_chr(  7,280,	 5, 7,     0,   0,  0,		  2,   270, 0,";")	//④敵 でーもん
	set_chr(  8,280,	 6, 8,     0,   0,  0,		  2,   180, 0,";")	//⑤敵 でーもん

	set_chr( 11,153,	 5, 8,  -200,   0,  0,		  2,   180, 0,";")	//⑥敵 ぽーん
	set_chr( 12,153,	 5, 8,   200,   0,  0,		  2,   180, 0,";")	//⑥敵 ぽーん
	set_chr( 13,153,	 5, 8,     0,-200,  0,		  2,   180, 0,";")	//⑥敵 ぽーん
	set_chr( 14,153,	 5, 8,     0, 200,  0,		  2,   180, 0,";")	//⑥敵 ぽーん

	set_chr( 16,154,	 6, 4,     0,   0,  0,		  2,   270, 0,";")	//⑦敵 るーく

	set_chr( 17,154,	 4, 7,     0,   0,  0,		  2,   270, 0,";")	//⑧敵 るーく

	set_chr( 18,280,	 7, 5,   200, 900,  0,		  2,    90, 0,";")	//⑨敵 でーもん

	set_chr( 19,154,	 5, 4,     0, 750,  0,		  2,     0, 0,";")	//⑩敵 るーく

	if(WK_ENTRY==91)//階段91 から来た時（帰り）
	{
		set_chr( 21,280,	 6, 7,     0,-300,  0,		 -1,   180, 8,"F104 V2_99;")	//⑪敵 でーもん
	}
	else
	{
		set_chr( 21,280,	 6, 6,     0, 300,  0,		 -1,     0, 8,"F104 V2_99;")	//⑪敵 でーもん
	}
	set_chr( 22,154,	 6, 7,  -600, 150,  0,		 -1,     0, 8,"F103 V2_99;")	//⑫敵 るーく
	set_chr( 23,152,	 6, 7,   600,   0,  0,		 -1,     0, 8,"F103 V2_99;")	//⑬敵 ないと

//■イベント

//■場面固有設定
}

//--------------------------------------------------------------------
EV_MoonJump3
{
	SE(1311, 65)	// 月玉出る
	jump(65,3, 15,-1,-1,200,40)
	wait_move(65)
//	if (F110)
	{
		SE(297, 65)	// どすん
		CAM_quake("4646")
	}
}

//--------------------------------------------------------------------
EV_MoonJump4
{
	SE(1311, 65)	// 月玉出る
	jump(65,3, 18,-1,-1,200,60)
	wait_move(65)
//	if (F110)
	{
		SE(297, 65)	// どすん
		CAM_quake("4646")
	}
}

//--------------------------------------------------------------------
EV_MoonJump5
{
	SE(1311, 65)	// 月玉出る
	jump(65,3, 21,-1,-1,200,90)
	wait_move(65)
//	if (F110)
	{
		SE(297, 65)	// どすん
		CAM_quake("4646")
	}
}

//--------------------------------------------------------------------
EV_MoonJump6
{
	SE(1311, 65)	// 月玉出る
	jump(65,3, 24,-1,-1,200,135)
	wait_move(65)
//	if (F110)
	{
		SE(297, 65)	// どすん
		CAM_quake("4646")
	}
}

//--------------------------------------------------------------------
EV_MoonJump7
{
	SE(1311, 65)	// 月玉出る
	jump(65,3, 27,-1,-1,200,200)
	wait_move(65)
//	if (F110)
	{
		SE(297, 65)	// どすん
		CAM_quake("4646")
	}
}

//--------------------------------------------------------------------
EV_MoonJump8
{
	SE(1311, 65)	// 月玉出る
	jump(65,3, 60,-1,-1,200,600)
	wait_move(65)
//	if (F110)
	{
		SE(297, 65)	// どすん
		CAM_quake("4646")
	}
}

//--------------------------------------------------------------------
//EV_CQ1
//{
//	if (F110)
//	{
//		CAM_quake("4646")
//	}
//}

#EndScriptTable
//====================================================================

