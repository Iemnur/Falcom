//====================================================================
//ステージトラップスクリプト
//[10532][Ｇ-ミュージアムＡ館②]
//====================================================================

#ScriptTable

#GATEROPE	1

//
// WK001:このルーム内のフィギュア収集数。
//
INIT
{
//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
//■階段・扉
	set_chr( 90,990,	 4, 7,     0,   0,  0,		 90,070102, 6,"K1_10531;")	//①ミュージアムＡ館①から
	set_obj("@ob00072a", 4, 7,     0,   0,  0,		 90)						//①階段（Ｇコロ）
	set_chr(190,1300,	 4, 7,     0,   0,  0,		  0,    90, 0,";")			//階段下（ダミー）

	//※森に行った事がない場合は、ロープが道を塞いでいる
	if(!F2_01_InForest && !F6_11_GameClear)
	{
		set_chr(GATEROPE, 716, 	2,6,	180,0,  0,		  0,    90, 0,";")	//ロープ		obx0500
		set_chr(96, 804,	 2, 6,		300,-200,  0,		0,	0,	8,"(L2?99 [9991冒険が進んだら\nまた来るがよい！…Ｇ]] WT?30 L2!99 [9903]);")	//案内
	}
	else
	{
		set_chr( 91,990,	 2, 6,     0,   0,  0,		270,070102, 6,"K0_10533;")	//②ミュージアムＡ館③へ
	}
	set_obj("@ob00072a", 2, 6,     0,   0,  0,		270)						//②階段（Ｇコロ）
	set_chr(191,1301,	 2, 6,     0,   0,  0,		  0,   270, 0,";")			//階段上（ダミー）

	set_chr( 92,990,	 7, 6,  1500,   0,  0,		 90,070102, 6,"K2_10510;")	//③ＥＸＩＴ
	set_obj("@obx0082a", 7, 6,  1500,   0,  0,		 90)						//③階段（墓場赤）
	set_chr(192,1300,	 7, 6,  1500,   0,  0,		  0,    90, 0,";")			//階段下（ダミー）


	set_chr(95, 804,		-1,-1,	6112,12649,0,	0,	0,	8,"(L2?99 [9991【フィギュア館②】\n水の魔物たち] WT?30 L2!99 [9903]);")	//案内
	set_chr(96, 655,	 7, 6,	800,-150,  0,		0,	0,	8,"(L2?99 [9991【ＥＸＩＴ→】] WT?30 L2!99 [9903]);")	//案内

//フィギュア配置────────────────────────────────────────────────────────────

//敵レアアイテムＧＥＴ		F2700-F2899
//立ったら陳列
	if(F2781)
		set_chr(1, 	251,  3,6,	-150,-300,	140,	-100,0,0,";");
	if(F2749)
		set_chr(2, 	205,  3,6,	 150,-300,	140,	-100,0,0,";");
	if(F2803)
		set_chr(3, 	302,  3,6,	 450,-300,	140,	-100,0,0,";");
	if(F2745)
		set_chr(4, 	168,  3,6,	 750,-300,	140,	-100,0,0,";");
	if(F2755)
		set_chr(5, 	211,  3,6,	1050,-300,	140,	-100,0,0,";");
	if(F2717)
		set_chr(6, 	134,  3,6,	1350,-300,	140,	-100,0,0,";");
	if(F2780)
		set_chr(7, 	250,  3,6,	1650,-300,	140,	-100,0,0,";");
	if(F2761)
		set_chr(8, 	217,  3,6,	1950,-300,	140,	-100,0,0,";");
	if(F2712)
		set_chr(9, 	127,  3,6,	2250,-300,	140,	-100,0,0,";");
	if(F2720)
		set_chr(10,	137,  3,6,	2550,-300,	140,	-100,0,0,";");
	if(F2714)
		set_chr(11,	129,  3,6,	2850,-300,	140,	-100,0,0,";");


	if(F2815)
		set_chr(12, 351,  5,6,	1050,-300,	240,	-100,0,0,";");
	if(F2818)
		set_chr(13, 354,  5,6,	1500,-300,	140,	-100,0,0,";");
	if(F2819)
		set_chr(14, 355,  5,6,	1950,-300,	140,	-100,0,0,";");

	if(F2738)
		set_chr(15, 159,  5,6,	2700,-250,	220,	-100,0,0,";");
	if(F2739)
		set_chr(16, 160,  5,6,	3300,-250,	220,	-100,0,0,";");

	F_set_chr(1,CF_NO_MINIMAP)
	F_set_chr(2,CF_NO_MINIMAP)
	F_set_chr(3,CF_NO_MINIMAP)
	F_set_chr(4,CF_NO_MINIMAP)
	F_set_chr(5,CF_NO_MINIMAP)
	F_set_chr(6,CF_NO_MINIMAP)
	F_set_chr(7,CF_NO_MINIMAP)
	F_set_chr(8,CF_NO_MINIMAP)
	F_set_chr(9,CF_NO_MINIMAP)
	F_set_chr(10,CF_NO_MINIMAP)
	F_set_chr(11,CF_NO_MINIMAP)
	F_set_chr(12,CF_NO_MINIMAP)
	F_set_chr(13,CF_NO_MINIMAP)
	F_set_chr(14,CF_NO_MINIMAP)
	F_set_chr(15,CF_NO_MINIMAP)
	F_set_chr(16,CF_NO_MINIMAP)

//フィギュア台────────────────────────────────────────────────────────────

	set_chr(61, 759,  3,6,  -150,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(62, 759,  3,6,   150,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(63, 759,  3,6,   450,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(64, 759,  3,6,   750,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(65, 759,  3,6,  1050,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(66, 759,  3,6,  1350,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(67, 759,  3,6,  1650,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(68, 759,  3,6,  1950,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(69, 759,  3,6,  2250,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(70, 759,  3,6,  2550,-300,  0,	0,0,0,";")//フィギュア台
	set_chr(71, 759,  3,6,  2850,-300,  0,	0,0,0,";")//フィギュア台

	//大型フィギュア台
	set_chr(50, 759,  5,6,	 1050,  -300,	-100,	0,0,0,";")//大型フィギュア台
	set_chr(51, 759,  5,6,	 1500,  -300,	-100,	0,0,0,";")//大型フィギュア台
	set_chr(52, 759,  5,6,	 1950,  -300,	-100,	0,0,0,";")//大型フィギュア台
	set_chr(99, 991,  5,6,	 1050,  -300,	-100,	0,0303,0,";")//大型フィギュア台当たり
	set_chr(99, 991,  5,6,	 1500,  -300,	-100,	0,0303,0,";")//大型フィギュア台当たり
	set_chr(99, 991,  5,6,	 1950,  -300,	-100,	0,0303,0,";")//大型フィギュア台当たり
	chr_scale(50,	"obj00",	200,200,200,	0,	1)
	chr_scale(51,	"obj00",	200,200,200,	0,	1)
	chr_scale(52,	"obj00",	200,200,200,	0,	1)

	
	//無限ボス用フィギュア台
	set_chr(53, 759,  5,6,	 2700,  -250,	-100,	0,0,0,";")//大型フィギュア台
	set_chr(54, 759,  5,6,	 3300,  -250,	-100,	0,0,0,";")//大型フィギュア台
	set_chr(99, 991,  5,6,	 2700,  -280,	-100,	0,0404,0,";")//大型フィギュア台当たり
	set_chr(99, 991,  5,6,	 3300,  -280,	-100,	0,0404,0,";")//大型フィギュア台当たり
	chr_scale(53,	"obj00",	270,270,270,	0,	1)
	chr_scale(54,	"obj00",	270,270,270,	0,	1)

//必要ならロープも
/*
	set_chr(25, 716,	  3,6,  -200,-150,	0,	0,0,0,";")//博物館ロープ
	set_chr(25, 716,	  3,6,   100,-150,	0,	0,0,0,";")//博物館ロープ
	set_chr(25, 716,	  3,6,   400,-150,	0,	0,0,0,";")//博物館ロープ
	set_chr(25, 716,	  3,6,   700,-150,	0,	0,0,0,";")//博物館ロープ
*/

//ボス配置───────────────────────────────────────────────────────────────

	if(F2835)
		set_chr(30, 402,  5,5,	 0,  500,	300,	-80,0,0,";")//ボス

	F_set_chr(30,CF_NO_MINIMAP)

	set_chr(22, 759,  5,5,	 0,  500,	-250,	0,0,0,";")//ボスフィギュア台
	set_chr(99, 991,  5,5,	 0,  500,	-100,	0,0505,0,";")//ボスフィギュア台当たり
	chr_scale(22,	"obj00",	350,350,350,	0,	1)
//───────────────────────────────────────────────────────────────────

//収集率看板──────────────────────────────────────────────────────────────

	workL(001,SET,0)
	if(F2781)
		workL(001,ADD,1)
	if(F2749)
		workL(001,ADD,1)
	if(F2803)
		workL(001,ADD,1)
	if(F2745)
		workL(001,ADD,1)
	if(F2755)
		workL(001,ADD,1)
	if(F2717)
		workL(001,ADD,1)
	if(F2780)
		workL(001,ADD,1)
	if(F2761)
		workL(001,ADD,1)
	if(F2712)
		workL(001,ADD,1)
	if(F2720)
		workL(001,ADD,1)
	if(F2714)
		workL(001,ADD,1)

	if(F2815)
		workL(001,ADD,1)
	if(F2818)
		workL(001,ADD,1)
	if(F2819)
		workL(001,ADD,1)

	if(F2738)
		workL(001,ADD,1)
	if(F2739)
		workL(001,ADD,1)
	if(F2835)
		workL(001,ADD,1)
	//全部で17

	if(WK001==0)//０
		set_chr(97, 657,		-1,-1,	5377,11032,0,	0,	0,	8,"(L2?99 [9991現在この部屋の\nフィギュア収集率は\n０％なのである。] WT?30 L2!99 [9903]);")	//案内
	else
	if(WK001<=2)//１割以下
		set_chr(97, 657,		-1,-1,	5377,11032,0,	0,	0,	8,"(L2?99 [9991現在この部屋の\nフィギュア収集率は\nまだまだなのである。] WT?30 L2!99 [9903]);")	//案内
	else
	if(WK001<=9)//５割以下
		set_chr(97, 657,		-1,-1,	5377,11032,0,	0,	0,	8,"(L2?99 [9991現在この部屋の\nフィギュア収集率は\nそこそこなのである。] WT?30 L2!99 [9903]);")	//案内
	else
	if(WK001<=13)//８割以下
		set_chr(97, 657,		-1,-1,	5377,11032,0,	0,	0,	8,"(L2?99 [9991現在この部屋の\nフィギュア収集率は\nかなりの物なのである。] WT?30 L2!99 [9903]);")	//案内
	else
	if(WK001<17)//まだ揃ってない
		set_chr(97, 657,		-1,-1,	5377,11032,0,	0,	0,	8,"(L2?99 [9991もう少し……\nもう少しなのである！] WT?30 L2!99 [9903]);")	//案内
	else
	if(WK001==17)//コンプ
		set_chr(97, 657,		-1,-1,	5377,11032,0,	0,	0,	8,"(L2?99 [9991この部屋のフィギュアは\nコンプリート済みである。\nさあ、堪能するがいい…！] WT?30 L2!99 [9903]);")	//案内

}

#EndScriptTable
//====================================================================

