//====================================================================
//ステージトラップスクリプト
//[11021][廃坑－武器①]
//====================================================================

#ScriptTable

//--------------------------------------------------------------------
//■グローバルフラグ
// 2917		フードスロット
// Fx_123Bomb2	武器③ ③木箱 爆弾×3
// Fx_123Bomb3	武器③ ④木箱 爆弾×3

//■ルートフラグ 2096-2192
// 2100 武器③ 中ボス死亡
// 2101 武器② ①ボタンスイッチを押した
// 2102 武器② ②ボタンスイッチを押した
// 2103 武器② ③ボタンスイッチを押した
// 2104 武器② ⑩移動床大（廃） 稼働

// 2150 武器① ①壷
// 2151 武器① ②壷
// 2152 武器① ③壷
// 2153 武器① ④壷

// 2160 武器② ①ハニワ
// 2161 武器② ②ハニワ
// 2162 武器② ③ハニワ
// 2163 武器② ④壷
// 2164 武器② ⑤壷
// 2165 武器② ⑥ハニワ

// 2170 武器③ ①ハニワ
// 2171 武器③ ②壷
// 2172 武器③ ③壷
// 2173 武器③ ④壷
// 2174 武器③ ⑤壷
// 2175 武器③ ⑥壷

// 2180 武器② ①岩
// 2181 武器② ②岩
// 2182 武器② ③岩
// 2183 武器② ④岩
// 2184 武器② ⑤岩
// 2185 武器② ⑥岩
// 2186 武器② ⑦岩
// 2187 武器② ⑧岩
// 2188 武器② ⑫樽

// 2190 武器③ ②大砲
// 2191 武器③ ⑦大砲
// 2192 武器③ ⑨大砲
// 2193 武器③ ⑪樽

//■ローカルフラグ
// 100 ①レバースイッチを押した
// 101 ②レバースイッチを押した
// 102 ③レバースイッチか④レバースイッチを押した
// 107 路線Aアニメon/off
// 108 路線Bアニメon/off
// 109 路線Cアニメon/off

//--------------------------------------------------------------------
INIT
{
//■地形
	set_obj("obx0524",	 6, 4,	   0, 600,  0,		 0)	//穴大

//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
//■階段

	set_chr( 90,990,	 6, 9,     0, 150,  0,		180,  0201, 6,"K1_11019;")	//①エントリ 中継分岐
	set_obj("@obx1032a", 6, 9,     0, 150,  0,		180)						//①アーチ（岩２）
	set_chr(190,1400,	 6, 9,     0, 150,  0,		  0,   180, 0,";")			//アーチ（ダミー）

	set_chr( 91,990,	 6, 2,     0,   0,  0,		  0,  0201, 6,"K0_0;")		//②エントリ 武器②
	set_obj("@obx1002a", 6, 2,     0,   0,  0,		  0)						//②階段上（岩２）
	set_chr(191,1301,	 6, 2,     0,   0,  0,		  0,     0, 0,";")			//階段上（ダミー）

	// チェックポイント
	set_chr( 95,990,	 6, 4,     0,-650,  0,		180,071201, 6,"k5_0")
	set_chr( 96,990,	 6, 5,     0, 150,  0,		  0,071201, 6,"k6_0")

	set_chr( 50,1201,	 6, 7,     0,-900,  0,		  8,   180, 6,";")	//③扉（岩２） 一通
	set_chr( 51,1201,	 6, 6,     0,-900,  0,		  3,     0, 6,";")	//④扉（岩２） 自由

//■スイッチ・看板
	set_chr( 60,571,	 5, 7,   900, 300,  0,		  6,   270,	5,"M!_99 SF100")	//①レバースイッチ
	set_chr( 61,571,	 3, 6,   300,   0,  0,		  6,   270,	5,"M!_99 SF101")	//②レバースイッチ
	set_chr( 62,571,	 6, 5,   300,-300,  0,		  6,   270,	5,"M!_99 M!_63 SF102")	//③レバースイッチ
	set_chr( 63,571,	 6, 4,   300,-250,  0,		  6,   270,	5,"M!_99 M!_62 SF102")	//④レバースイッチ

	set_chr( 57,658,	 6, 5,   350,-550,  0,		  0,     0, 0,";")	//③中ボス看板
	set_chr( 58,804,	 6, 5,   350,-550,125,		  0,     0, 8,"(L2?99 [9991穴に落ちると痛いですよ。] WT?30 L2!99 [9903] WT?30);")	//⑤看板

//■ハニワ・壷
//  -------      no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
	if ( !F2150 )
	{
		set_chr( 40,802,	 6, 7,   900, 300,  0,		  2,    90, 0,"I_$$$1 SF2150 V4_140;")	//①壷
		set_chr(140,811,	 6, 7,   900, 300,  0,		 -1,    90, 0,";")
	}
	else
	{
		set_chr(140,811,	 6, 7,   900, 300,  0,		  0,    90, 0,";")
	}


	if ( !F2151 )
	{
		set_chr( 41,802,	 5, 8,   200,-200,  0,		  2,   270, 0,"I_$$$1 SF2151 V4_141;")	//②壷
		set_chr(141,811,	 5, 8,   200,-200,  0,		 -1,   270, 0,";")
	}
	else
	{
		set_chr(141,811,	 5, 8,   200,-200,  0,		  0,   270, 0,";")
	}


	if ( !F2152 )
	{
		set_chr( 42,802,	 3, 7,   450,   0,  0,		  2,     0, 0,"I_$$$1 SF2152 V4_142;")	//③壷
		set_chr(142,811,	 3, 7,   450,   0,  0,		 -1,     0, 0,";")
	}
	else
	{
		set_chr(142,811,	 3, 7,   450,   0,  0,		  0,     0, 0,";")
	}


	if ( !F2153 )
	{
		set_chr( 43,802,	 7, 6,  -450,   0,  0,		  2,    90, 0,"I_$$$1 SF2153 V4_143;")	//④壷
		set_chr(143,811,	 7, 6,  -450,   0,  0,		 -1,    90, 0,";")
	}
	else
	{
		set_chr(143,811,	 7, 6,  -450,   0,  0,		  0,    90, 0,";")
	}

//■宝箱

//■罠・障害物
	set_chr( 65,662,	 4, 7,   900,   0,  0,		  2,   270, 8,"F100 M4_99 WT?15 M3_110 M3_111 M3_116 M3_117 M3_118 M3_119 M3_120 (SF107 X1_5400  RF107 M3_99 WT?30 SF107 X1_-7200 RF107 M4_99 WT?30 X1_1800);")//①リフト積載台[路線A]
	set_chr( 66,662,	 4, 6,   900,   0,  0,		  2,    90, 8,"F101 M4_99 WT?15 M3_112 M3_113 M3_121 M3_122 M3_123 M3_124        (SF108 X1_-1800 RF108 M3_99 WT?30 SF108 X1_5400  RF108 M4_99 WT?30 X1_-3600);")//②リフト積載台[路線B]
	set_chr( 67,703,	 6, 5,     0,-300,  0,		  2,     0, 8,"F102 M3_99 WT?15 M3_114 M3_115 M3_125 M3_126                      (SF109 Y1_1700  RF109 M4_99 WT?30 SF109 Y1_-1700 RF109 M3_99 WT?30);")//③長リフト台[路線C]

//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
	set_chr( 68,630,	 8, 7,  -450,   0,  0,		  0,   180,	0,"I_$$$1;")	//④樽

	set_chr(110,673,	 3, 7,     0,   0,  0,		  2,   270, 0,";")//リフト端[路線A]
	set_chr(111,673,	 8, 7,     0,   0,  0,		  2,    90, 0,";")//リフト端[路線A]
	set_chr(112,673,	 3, 6,     0,   0,  0,		  2,   270, 0,";")//リフト端[路線B]
	set_chr(113,673,	 7, 6,     0,   0,  0,		  2,    90, 0,";")//リフト端[路線B]
	set_chr(114,673,	 6, 5,     0, 150,  0,		  2,   180, 0,";")//リフト端[路線C]
	set_chr(115,673,	 6, 4,     0,-650,  0,		  2,     0, 0,";")//リフト端[路線C]

	set_chr(116,653,	 4, 7,  -750,   0,  0,		  2,   270, 0,";")//リフト用ロープa[路線A]
	set_chr(117,653,	 5, 7,  -750,   0,  0,		  2,   270, 0,";")//リフト用ロープb[路線A]
	set_chr(118,653,	 6, 7,  -750,   0,  0,		  2,   270, 0,";")//リフト用ロープc[路線A]
	set_chr(119,653,	 7, 7,  -750,   0,  0,		  2,   270, 0,";")//リフト用ロープd[路線A]
	set_chr(120,653,	 8, 7, -1010,   0,  0,		  2,   270, 0,";")//リフト用ロープe[路線A]

	set_chr(121,653,	 4, 6,  -750,   0,  0,		  2,   270, 0,";")//リフト用ロープa[路線B]
	set_chr(122,653,	 5, 6,  -750,   0,  0,		  2,   270, 0,";")//リフト用ロープb[路線B]
	set_chr(123,653,	 6, 6,  -750,   0,  0,		  2,   270, 0,";")//リフト用ロープc[路線B]
	set_chr(124,653,	 7, 6, -1010,   0,  0,		  2,   270, 0,";")//リフト用ロープd[路線B]

	set_chr(125,653,	 6, 5,     0,-900,  0,		  2,   180, 0,";")//リフト用ロープa[路線C]
	set_chr(126,653,	 6, 4,     0, 400,  0,		  2,   180, 0,";")//リフト用ロープb[路線C]


//■敵
	set_chr(  1,100,	 6, 8,     0,-450,  0,		  2,     0, 0,";")//①敵 いわつつき
	set_chr(  2,100,	 5, 7,   200, 300,  0,		  2,   270, 0,";")//②敵a いわつつき
	set_chr(  3,208,	 5, 7,   400, 300,  0,		  2,     0, 0,";")//②敵b こぼると
		chr_equip2(  3,	"eq_103",	"Bone_Head",	103,	95, 0, 0,	0, 45,  0);		// 工事用安全帽
		chr_equip2(  3,	"eq_014",	"Bone_RightArm",100,    0,45,0,		0,25,0);	// つるはし
		chr_state_LV( 3, 1);
	set_chr(  4,100,	 4, 6,     0,   0,  0,		  2,     0, 0,";")//③敵 いわつつき
	set_chr(  5,100,	 5, 6,   900,   0,  0,		  2,    90, 0,";")//④敵 いわつつき

	set_chr(  6,100,	 6, 4,  -300,-200,  0,		  2,     0, 0,";")//⑤敵 いわつつき

	set_chr(  7,208,	 6, 3,  -350, 350,  0,		  2,     0, 0,";")//⑥敵a こぼると
		chr_equip2(  7,	"eq_103",	"Bone_Head",	103,   95, 0, 0,	0,45, 0);		// 工事用安全帽
		chr_equip2(  7,	"eq_007",	"Bone_RightArm",100,		0,0,0,	0,25,0);	// スパナ
		chr_state_LV(  7, 1);

	set_chr(  8,208,	 6, 3,   350, 350,  0,		  2,     0, 0,";")//⑥敵b こぼると
		chr_equip2(  8,	"eq_103",	"Bone_Head",	103,		95, 0, 0,	0, 45,  0);		// 工事用安全帽
		chr_equip2(  8,	"eq_007",	"Bone_RightArm",100,		0,0,0,	0,25,0);	// スパナ
		chr_state_LV(  8, 1);

	set_chr(  9,100,	 6, 3,     0,   0,  0,		  2,     0, 0,";")//⑥敵c いわつつき

//■イベント
//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
	// リフト操作
	set_chr(150,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"( M7?60 WT?10 #8_65 SF107  M6?60 WT?10 #3_65 RF107 );")//①レバースイッチ
	set_chr(151,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"( M7?61 WT?10 #8_66 SF108  M6?61 WT?10 #3_66 RF108 );")//②レバースイッチ
	set_chr(152,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"( M7?62 WT?10 #8_67 SF109  M6?62 WT?10 #3_67 RF109 );")//③レバースイッチ

	// リフトアニメ
	set_chr(153,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"(!F107 M-_110 M-_111 M-_116 M-_117 M-_118 M-_119 M-_120  F107 M+_110 M+_111 M+_116 M+_117 M+_118 M+_119 M+_120 );")//リフトアニメ[路線A]
	set_chr(154,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"(!F108 M-_112 M-_113 M-_121 M-_122 M-_123 M-_124         F108 M+_112 M+_113 M+_121 M+_122 M+_123 M+_124 );")//リフトアニメ[路線B]
	set_chr(155,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"(!F109 M-_114 M-_115 M-_125 M-_126                       F109 M+_110 M+_114 M+_115 M+_125 M+_126 );")//リフトアニメ[路線C]
//	set_chr(153,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"(!F107 O1_-249 M-_110 M-_111 M-_116 M-_117 M-_118 M-_119 M-_120  F107 O1_249 M+_110 M+_111 M+_116 M+_117 M+_118 M+_119 M+_120 );")//リフトアニメ[路線A]
//	set_chr(154,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"(!F108 O1_-249 M-_112 M-_113 M-_121 M-_122 M-_123 M-_124         F108 O1_249 M+_112 M+_113 M+_121 M+_122 M+_123 M+_124 );")//リフトアニメ[路線B]
//	set_chr(155,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"(!F109 O1_-249 M-_114 M-_115 M-_125 M-_126                       F109 O1_249 M+_110 M+_114 M+_115 M+_125 M+_126 );")//リフトアニメ[路線C]

	// リフトカメラ
	set_chr(156,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"F100 O1_18 WT?10 C0_65 WT?20 WT?30 C0_0;")//①リフト積載台 発車
	set_chr(157,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"F101 O1_18 WT?10 C0_66 WT?20 WT?30 C0_0;")//②リフト積載台 発車
	if(WK_ENTRY==91)//階段91 から来た時（帰り）
	{
		set_chr(158,990,	 0, 0,     0,   0,	0,  	  0,     0, 8,"F102 O1_18 WT?10 C0_67 WT?20 WT?30 C0_0;")//③リフト積載台 発車
	}
	else
	{
		set_chr(158,990,	 0, 0,     0,   0,	0,  	  0,     0, 8,"F102 O1_18 WT?10;")//③リフト積載台 発車
	}

//■場面固有設定
	map_color(100,100,100,0);//R,G,B, time 100%
	map_spotbmp(40);//100%
}

#EndScriptTable
//====================================================================

