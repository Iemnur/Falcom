//======================================================================
// モーション定義ファイル（センチネル）
//======================================================================

#CharMotTable:163		//***をキャラ番号（ファイル番号そのまま）に置き換える
en_163m.it3				//モーションファイル指定


//・接近して殴るｘ３（後半は、殴りモーションに緩急がつく）
//　↓
//・爆弾撒いてジャンプ〜踏みつけ
//　↓
//・弱ってくると自爆
//
//※殴り攻撃をジャンプで避けつつ頭を狙うのが基本パターン


////////////////////////////////////////////////////////////////////////
//ＳＥ再生

if_LEN 1500 0
{
	OTO 30	0121	 300 0 0 0	//パンチ（振り上げ）
	OTO 31	0134	 685 0 0 0	//パンチ

	OTO 33	0097	 891 0 0 0	//ぐるん
	OTO 13	0158	 605 0 0 0	//ジャンプ
	OTO 10	0026	 605 0 0 0	//着地
	OTO 10	0026	 421 0 0 0	//着地

}


////////////////////////////////////////////////////////////////////////
// モーションセット定義

	//------------------------------------------------------------------
	// 登場
	//------------------------------------------------------------------
	SET 80 80 0055 0070 -1 00	//登場

	//------------------------------------------------------------------
	// 待機
	//------------------------------------------------------------------
	SET 02 02 0055 0070 -1 00	//待機（ループ）

	//------------------------------------------------------------------
	// 歩行
	//------------------------------------------------------------------
	SET 03 03 0055 0070 -1 00	//歩行（ループ）
		E_charbase0		03 0060  570 200 0 0		//＠土煙
	
	//------------------------------------------------------------------
	// 飛行（っていうか、もはや「ジャンプ」）
	//------------------------------------------------------------------
	SET 01 01 0001 0020 -1 00	//飛行（ループ）

	SET 13 01 0157 0188 -1 00	//離陸
		E_charbase0		13 0157 3535 150 0 0		//＠汎用バウンド
		E_charbase0		13 0157 2105 100 0 0		//＠振動（小）

	SET 10 02 0025 0049 -1 00	//着陸
		E_charbase0		10 0026 2270 100 0 0		//＠衝撃

	//------------------------------------------------------------------
	// 攻撃（なぎ払い）
	//------------------------------------------------------------------
//	SET 30 31 0120 0135 -1 00	//右手_前
//	SET 31 02 0136 0156 -1 00	//右手_後
	SET 30 -1 0120 0132 -1 00	//右手_前
	SET 31 -1 0133 0156 02 05	//右手_後
		E_csp2			31 0136 31027   6 0 20		//＠鉄拳アタリ
		E_Bone_Heso		31 0136  1512 175 0  0		//＠残像
		E_charbase0		31 0138   195 200 0  0		//＠土煙
		E_charbase0		31 0138  2105 100 0  0		//＠振動（小）

	//------------------------------------------------------------------
	// 攻撃（爆弾撒き）
	//------------------------------------------------------------------
	SET 32 33 0075 0095 -1 00	//前傾ブルブル_前
	SET 33 -1 0096 0119 02 05	//前傾ブルブル_後
		E_charbase0		33 0096  570 195 0 0 		//＠土煙
		E_charbase0		33 0100  570 195 0 0 		//＠土煙
		E_charbase0		33 0104  570 195 0 0 		//＠土煙

	//------------------------------------------------------------------
	// 攻撃（自爆）
	//------------------------------------------------------------------
	SET 98 99 0075 0089 -1 00	//前傾ブルブル_前
//		E_charbase0			98 0075 2108 100 0 0		//＠振動（大ｘ２）
//		E_charbase0			98 0075 2145 100 0 0		//＠フラッシュ
	SET 99 99 0090 0095 -1 00	//前傾ブルブル_後
//		E_charbase0			99 0090 2107 100 0 0		//＠振動（小ｘ２）


////////////////////////////////////////////////////////////////////////
// ルーチン分岐

	//mF0 = 攻撃パターン進行状態
	//mF1 = 自爆発動した？

	if_INIT
	{
		B_NEXT	-1 0 0 0 0 02
	}
	
	
	//★自爆してもいい頃？
	if_EV DAMAGE
	{
		if_HP 10 0
		{
			if_mF1= 0
			{
				mF1_set -1 -1 1

				E_charbase0			-1 -1 2108 100 0 0		//＠振動（大ｘ２）
				E_charbase0			-1 -1 2145 100 0 0		//＠フラッシュ

				H_@csp -1 -1 10 0 0		//以降、ノーダメージ

				//     set deg tim rnd len next
				B_NEXT  -1  -1   0   0   0   98
			}
		}
	}


	//------------------------------------------------------------------
	// 登場
	//------------------------------------------------------------------
	//     set deg tim rnd  len next
	B_NEXT  80   0  90   0    0   02	//⇒始動


	//------------------------------------------------------------------
	// 待機
	//------------------------------------------------------------------
	//    set typ spd rot xx1 xx2
	B_MOV  02  00   0   0  00  00

	if_SET 02
	{
		if_HP 100 0
		{
			if_mF0< 3
			{
				mF0_add -1 -1 1
				
				//     set deg tim rnd  len next
				B_NEXT  02   0   0   0    0   03		//⇒歩行（⇒なぎ払い）
			}
			el_mF0= 3
			{
				mF0_add -1 -1 1
				
				//     set deg tim rnd  len next
				B_NEXT  02   0   0   0    0   32		//⇒爆弾撒き
			}
			el_mF0= 4
			{
				mF0_set -1 -1 0
				
				//     set deg tim rnd  len next
				B_NEXT  02   0   0   0    0   13		//⇒離陸
			}
		}
	}

	//------------------------------------------------------------------
	// 歩行
	//------------------------------------------------------------------
	//    set typ spd rot xx1 xx2
	B_MOV  03  00  16  16  00  00
		//     set deg tim rnd  len next
		B_NEXT  03   0   0   0  600   30		//⇒なぎ払い
		B_NEXT  03   0  90   0    0   02 		//⇒待機

	if_SET 03
	{
		if_time 6
		{
			OTO -1 -1 600 0 0 0		//足音ＳＥ
		}
	}

	//------------------------------------------------------------------
	// 離陸
	//------------------------------------------------------------------
	//    set typ spd rot xx1 xx2
	B_MOV  13  00  12  12  00  00

	JMP 13 0157 2000 0 0 0		//＝離陸＋飛行＋着陸、全てをひっくるめたジャンプ時間

	//------------------------------------------------------------------
	// 飛行
	//------------------------------------------------------------------
	//    set typ spd rot xx1 xx2
	B_MOV  01  00  12  12  00  00
		//     set deg tim rnd len next
		B_NEXT  01   0  61   0   0   10		//⇒着陸

	//------------------------------------------------------------------
	// 着陸
	//------------------------------------------------------------------
	//    set typ spd rot xx1 xx2
	B_MOV  10  00   0  12  00  00


	//------------------------------------------------------------------
	// 攻撃（なぎ払い）
	//------------------------------------------------------------------
	//    set typ spd rot xx1 xx2
	B_MOV  30  00   0  16  00  00
	B_MOV  31  00   0   0  00  00

		//★後半になると、タイミングを外したパンチを打ってくる
		if_HP 40 0
		{
			if_RAND 50
			{
				//     set deg tim rnd  len next
				B_NEXT  30   0   0   0    0   31		//⇒なぎ払い２
			}
			else
			{
				//     set deg tim rnd  len next
				B_NEXT  30   0  15   0    0   31		//⇒なぎ払い
			}
		}
		else
		{
			//     set deg tim rnd  len next
			B_NEXT  30   0  15   0    0   31		//⇒なぎ払い
		}

	if_SET 31
	{
		if_EV HIT
		{
			E_ADL -1 -1 1180 150 -1 -1		//＠ぶちかまし衝撃
			E_ADL -1 -1 2106 100 -1 -1		//＠振動（大）
		}
	}


	//------------------------------------------------------------------
	// 攻撃（爆弾撒き）
	//------------------------------------------------------------------
	//    set typ spd rot xx1 xx2
	B_MOV  32  00   0   0  00  00
	B_MOV  33  00   0   0  00  00

	//適当に爆弾を撒く
	if_SET 33
	{
		ROT -1 0096 0116 18

		if_time 5
		{
			G_csp1		-1 -1 3 56		//Bone_Kuti,G_Bone_Heso...
		}
	}


	//------------------------------------------------------------------
	// 攻撃（自爆）
	//------------------------------------------------------------------
	//    set typ spd rot xx1 xx2
	B_MOV  98  00   0   0  00  00
	B_MOV  99  00   0   0  00  00
	
	if_SET 99
	{
		if_time 15
		{
			E_Bone_Kuti		-1 -1  4096 135 0 0 		//＠爆発予兆
		}

		if_time 2
		{
			E_charbase0		-1 -1  2105 100 0 0			//＠振動（小）
		}

		if_time 24
		{
			OTO -1 -1 473 0 0 0		//自爆ＳＥ
		}

		if_TIME 100 90
		{
			OTO -1 -1 1119 0 0 0	//爆発ＳＥ

			POW -1 -1 9999		//自殺

			E_charbase0		-1 -1  6060 100 0  0 		//＠爆発
			E_charbase0		-1 -1 31070  15 0 20 		//＠爆発アタリ
		}
	}


#EndCharMotTable
