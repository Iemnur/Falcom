//====================================================================
//ステージトラップスクリプト
//[18011][要塞－メイン①]
//====================================================================

#ScriptTable

//--------------------------------------------------------------------
//■グローバルフラグ
// 2995		フードスロット
// Fx_812Food1 メイン① 宝箱（並）	飯

//■ルートフラグ 2096-2192

// 2101 メイン① ①ボタンスイッチ
// 2102 メイン① ②ボタンスイッチ
// 2105 メイン③ ⑯ボタンスイッチ
// 2111 メイン② ①樽 安飯

// 2150 メイン① ①壷
// 2151 メイン① ②ハニワ

// 2160 メイン② ①壷
// 2161 メイン② ②壷
// 2162 メイン② ③壷
// 2163 メイン② ④壷
// 2164 メイン② ⑤壷

// 2170 メイン③ ①壷
// 2171 メイン③ ②壷
// 2172 メイン③ ③壷
// 2173 メイン③ ④壷

// 2180 メイン① ①ラスダン砲台
// 2181 メイン② ②ラスダン砲台

//■ローカルフラグ
// 100 ①ボタンスイッチ
// 101 ②ボタンスイッチ

//--------------------------------------------------------------------
INIT
{
//環境SE
	SE(69,0)

//■地形
	set_obj2("mp81000",  4, 8,   450,-450,  0,	 0) //→
	set_obj2("mp81020",  4, 8,   450, 450,  0,	 0) //→
	set_obj2("mp81020",  5, 9,  -450,-450,  0,	 0) //↑
	set_obj2("mp81030",  5, 9,   450,-450,  0,	 0) //↑
	set_obj2("mp81010",  6, 8,  -450,-450,  0,	 0) //←
	set_obj2("mp81030",  6, 8,  -450, 450,  0,	 0) //←

	set_obj2("mp81020",  3, 5,  -450,-450,  0,	 0) //↑
	set_obj2("mp81030",  3, 5,   450,-450,  0,	 0) //↑

	set_obj2("mp81010",  5, 4,  -450,-450,  0,	 0) //←
	set_obj2("mp81030",  5, 4,  -450, 450,  0,	 0) //←

//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
	//map_color(100,100,100,0)
//■階段・扉
	set_chr( 90,990,	 5, 8,     0, 300,400,		180,     0, 0,";")							//①エントリ 来る専用
	set_chr( 94,990,	 5, 8,     0,  50,-25,		180,010603, 3,"#8_99 M0_88 WT?10 #6_95;")	//①エントリ 起動専用
	set_chr( 95,990,	 5, 8,     0,   0,350,		180,010605, 3,"K0_1")						//①エントリ 行く専用
	set_chr( 88,549,	 5, 8,     0,   0,  0,		  1,   180, 8,"M3?99 L4!9900 #6_94;")		//①アーチ（ラスト）
	set_obj("ob80010a",  5, 8,     0,   0,  0,		180) 										//①アーチ枠（ラスト）

	set_chr( 91,990,	 3, 1,     0,   0,145,		  0,  0202, 6,"#8_99 <EV_WarpOut> WT?30 K0_0;")		//②エントリ メイン②
	set_obj("ob80030a",  3, 1,     0,   0,  0,   0)								//②階段上（ラス）
	set_chr(191,1301,	 3, 1,     0,   0,145,		  0,     0, 0,";")			//階段上（ダミー）

	set_chr( 50,510,	 3, 2,  -900,   0,  0,		  3,   270, 6,";")	//③扉（ラスダン）自由
	set_chr( 51,510,	 3, 2,   900,   0,  0,		  3,    90, 6,";")	//④扉（ラスダン）自由
	set_chr( 52,510,	 3, 2,     0,-800,  0,		  8,   180, 6,";")	//⑤扉（ラスダン）一通
	set_chr( 53,510,	 3, 1,     0, 800,  0,		  8,   180, 6,";")	//⑥扉（ラスダン）一通

//■スイッチ・看板

	if ( !F2101 )
	{
	// 初回
		set_chr( 57,570,	 2, 2,     0,   0,  0,		  6,     0, 5,"M6?99 M5_99 SF2101;")	//①ボタンスイッチ
		set_chr( 60,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"F2101 O1_18 WT?10 C0_52 WT?20 M4_52 WT?30 C0_0;")	//①ボタンスイッチ
	}
	else
	{
	// 押され
		set_chr( 57,570,	 2, 2,     0,   0,  0,		  7,     0, 3,";")	//①ボタンスイッチ
		MOT( 52, 6, 0 )
	}


	if ( !F2102 )
	{
	// 初回
		set_chr( 58,570,	 4, 2,     0,   0,  0,		  6,     0, 5,"M6?99 M5_99 SF2102;")	//②ボタンスイッチ
		set_chr( 61,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"F2102 O1_18 WT?10 C0_53 WT?20 M4_53 WT?30 C0_0;")	//①ボタンスイッチ
	}
	else
	{
	// 押され
		set_chr( 58,570,	 4, 2,     0,   0,  0,		  7,     0, 3,";")	//②ボタンスイッチ
		MOT( 53, 6, 0 )
	}
	set_chr( 63,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"F2101 F2102 WT?40 V2_21 WT?05 V2_22 WT?05 V2_23;")

//■ハニワ・壷

	if (!F2150)
	{
		set_chr( 40,802,	 8, 4,     0, 200,  0,		  2,     0, 0,"I_$$$1 SF2150 V4_140;")	//①壷
		set_chr(140,811,	 8, 4,     0, 200,  0,		 -1,     0, 0,";")
	}
	else
	{
		set_chr(140,811,	 8, 4,     0, 200,  0,		  0,     0, 0,";")
	}


	if (!F2151)
	{
		set_chr( 41,634,	 2, 3,     0,   0,  0,		  2,     0, 0,"I_US01 SF2151 V4_141;")	//②ハニワ
		set_chr(141,812,	 2, 3,     0,   0,  0,		 -1,     0, 0,";")
	}
	else
	{
		set_chr(141,812,	 2, 3,     0,   0,  0,		  0,     0, 0,";")
	}


//■宝箱

//■罠・障害物
	if (!F2180)
	{
		set_chr( 66,718,	 3, 3,     0,   0,  0,		  2,     0, 8,"M0?99 I_$$$2 SF2180;")	//①ラスダン砲台
	}

//■敵
//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++

	set_chr(  3,157,	 5, 5,     0, 900,  0,		  2,     0, 0,";")	//①敵 れぎおん－Ｇ
	set_chr(  5,156,	 5, 5,     0,   0,  0,		  2,     0, 0,";")	//②敵 れぎおん－Ｒ

	set_chr(  6,206,	 6, 5,     0,-900,  0,		 -1,   180, 0,";")	//③敵 かおろっくあい
	set_chr(160,990,	 6, 5,     0,   0,  0,		  0,  0505, 6,"V2_06;")	//③敵 出現

	set_chr(  7,156,	 7, 5,     0,   0,  0,		  2,     0, 0,";")	//④敵 れぎおん－Ｒ
	set_chr(  9,157,	 7, 4,   600,   0,  0,		  2,     0, 6,";")	//⑤敵 れぎおん－Ｇ
	
	set_chr( 11,206,	 7, 4,     0, 300,  0,		 -1,   270, 0,";")	//⑥敵 かおろっくあい
	set_chr(161,990,	 7, 4,     0,   0,  0,		  0,  0512, 6,"V2_11;")	//⑥敵 出現

	set_chr( 13,156,	 6, 3,     0,-300,  0,		  2,   270, 0,";")	//⑦敵 れぎおん－Ｒ
	set_chr( 14,156,	 5, 3,     0,-300,  0,		  2,    90, 0,";")	//⑧敵 れぎおん－Ｒ

	set_chr( 15,206,	 3, 4,     0, 350,  0,		 -1,     0, 0,";")	//⑨敵 かおろっくあい
	set_chr( 16,206,	 3, 4,     0,-350,  0,		 -1,   180, 0,";")	//⑨敵 かおろっくあい
	set_chr(162,990,	 3, 4,     0,-200,  0,		  0,  1711, 6,"V2_15 V2_16;")	//⑨敵 出現

	set_chr( 17,157,	 3, 4,  -900,   0,  0,		  2,    90, 0,";")	//⑩敵 れぎおん－Ｇ

	set_chr( 21,206,	 3, 2,  -300,-300,  0,		 -1,     0, 0,";")	//⑪敵 かおろっくあい
	set_chr( 22,206,	 3, 2,   300,-300,  0,		 -1,     0, 0,";")	//⑪敵 かおろっくあい
	set_chr( 23,207,	 3, 2,     0,-650,  0,		 -1,   180, 0,";")	//⑪敵 かおしっくあい

//■イベント

//■場面固有設定
}

//--------------------------------------------------------------------
EV_WarpOut
{
	jump(PLAYER2,1,	10,	PLAYER1, 0, 0,	 150)
	jump(PET,1,	10,	PLAYER1, 0, 0,	 150)
	wait( 5)
	SE(291, PLAYER1) //ワープ魔法陣
	EFF_chr(24580, PLAYER1, 0, 100, 0, "Bone_Hips")
	EFF_chr(24580, PLAYER2, 0, 100, 0, "Bone_Hips")

	color(PLAYER1, -10)	//表示
	color(PLAYER2, -10)	//表示
	color(PET, -10)	//表示
	wait(10)

}

#EndScriptTable
//====================================================================

