//====================================================================
//ステージトラップスクリプト
//[15021][城－城内①]
//====================================================================

#ScriptTable

//--------------------------------------------------------------------
//■グローバルフラグ
// 2958		フードスロット
// Fx_522Bomb1 城内② 爆弾×3
// Fx_523Food1 城内③ 飯

//■ルートフラグ 2096-2192

// 2102 城内① ①ボタンスイッチを押した
// 2104 城内② ①ボタンスイッチを押した
// 2105 城内② ②ボタンスイッチを押した
// 2106 城内② ①ボタンスイッチと②ボタンスイッチを両方押した
// 2107 城内② ③ボタンスイッチを押した
// 2108 城内③ ①ボタンスイッチを押した

// 2110 城内① ①バリケード
// 2111 城内① ②バリケード
// 2112 城内① ③バリケード
// 2113 城内① ④バリケード
// 2114 城内① ⑤バリケード
// 2115 城内① ⑥バリケード
// 2116 城内① ⑦バリケード
// 2117 城内① ⑫バリケード
// 2118 城内① ⑬バリケード
// 2119 城内① ⑭バリケード

// 2120 城内① ⑨樽

// 2130 城内② ⑧バリケード
// 2135 城内② レバースイッチ(初回)

// 2140 城内③ ②バリケード
// 2141 城内③ ③バリケード
// 2145 城内③ フックで外れる扉(初回)

// 2150 城内① ①壷

// 2160 城内② ①壷
// 2161 城内② ②壷
// 2162 城内② ③ハニワ
// 2163 城内② ④壷
// 2164 城内② ⑤壷

// 2170 城内③ ①壷
// 2171 城内③ ②壷
// 2172 城内③ ③壷
// 2173 城内③ ④壷
// 2174 城内③ ⑤壷

// 2180 城内① ⑩爆弾タル
// 2181 城内① ⑮爆弾タル

// 2185 城内② ④大砲
// 2186 城内② ⑤大砲
// 2187 城内② ⑥大砲
// 2188 城内② ⑦大砲

// 2190 城内① ①爆弾タル


//■ローカルフラグ
// 100 ⑤敵が出現
// 101 ⑥敵が出現
// 103 ⑪敵が出現
// 104 ⑨敵が出現

//--------------------------------------------------------------------
INIT
{
//■地形

//  -------  no typ   	  tip      x    y   z       mot     向 状  000+++++++010+++++++020+++++++030+++++++040+++++++050+++++++060+++++++070+++++++080+++++++090+++++++100+++++++110+++++++120+++++++130+++++++140+++++++150+++++++160+++++++170+++++++180+++++++190+++++++200+++++++210+++++++220+++++++230+++++++240+++++++250++
//■階段・扉
	set_chr( 90,990,	 5, 9,     0,-100,  0,		180,  0201, 6,"K2_15010;")	//①エントリ 入口分岐
	set_obj("@ob50523a", 5, 9,     0,   0,  0,		180)						//①階段下（城内）
	set_chr(190,1400,	 5, 9,	   0,   0,  0,		  0,   180, 0,";")			//アーチ（ダミー）

	set_chr( 91,990,	 5, 2,     0,   0,  0,		  0,  0201, 6,"K0_0;")		//②エントリ 城内②
	set_obj("@ob50513a", 5, 2,     0,   0,  0,		  0)						//②階段上（城内）
	set_chr(191,1301,	 5, 2,	   0,   0,  0,		  0,     0, 0,";")			//階段上（ダミー）

	set_chr( 50,503,	 5, 7,     0,-900,  0,		  3,     0, 6,";") //③扉（城内）自由
	set_chr( 51,503,	 5, 5,     0,-900,  0,		  3,     0, 6,";") //④扉（城内）自由
	set_chr( 52,503,	 5, 4,  -900,   0,  0,		  6,   270, 0,";") //⑤扉（城内）開放
	set_chr( 53,503,	 5, 3,     0,-900,  0,		  8,   180, 6,";") //⑥扉（城内）一通

//■スイッチ・看板
	if ( !F2102 )
	{
	// 初回
		set_chr( 60,570,	 4, 4,  -250,-250,  0,		  6,     0, 5,"M6?99 M5_99 SF2102;")	//①ボタンスイッチ
	}
	else
	{
	// 押され
		set_chr( 60,570,	 4, 4,  -250,-250,  0,		  7,     0, 3,";")	//①ボタンスイッチ
	}


//■ハニワ・壷
	if ( !F2150 )
	{
		set_chr( 40,802,	 4, 4,  -250, 250,  0,		  2,   120, 0,"V1_8 I_$$$1 SF2150 V4_140;")	//①壷
		set_chr(140,811,	 4, 4,  -250, 250,  0,		 -1,   120, 0,";")
	}
	else
	{
		set_chr(140,811,	 4, 4,  -250, 250,  0,		  0,   120, 0,"V1_8;")
	}


//■宝箱

//■罠・障害物
	if ( !F2110 )
	{
		set_chr( 65,632,	 5, 8,     0,  50,  0,		  2,     0, 0,"I_$$$1 SF2110;") //①バリケード
	}

	if ( !F2111 )
	{
		set_chr( 66,632,	 5, 8,  -350,-500,  0,		  2,     0, 0,"I_$$$1 SF2111;") //②バリケード
	}

	if ( !F2112 )
	{
		set_chr( 67,632,	 5, 8,   350,-500,  0,		  2,     0, 0,"I_$$$1 SF2112;") //③バリケード
	}

	if ( !F2113 )
	{
		set_chr( 68,632,	 5, 7,  -350, 500,  0,		  2,     0, 0,"I_$$$1 SF2113;") //④バリケード
	}

	if ( !F2114 )
	{
		set_chr( 69,632,	 5, 7,   350, 500,  0,		  2,     0, 0,"I_$$$1 SF2114;") //⑤バリケード
	}

	if ( !F2115 )
	{
		set_chr( 70,632,	 5, 7,     0, -50,  0,		  2,     0, 0,"I_$$$1 SF2115;") //⑥バリケード
	}

	if ( !F2116 )
	{
		set_chr( 71,632,	 5, 4,  -550,   0,  0,		  2,    90, 0,"I_$$$1 SF2116;") //⑦バリケード
	}


	if ( !F2120 )
		set_chr( 72,630,	 4, 4,   275, 275,600,		 -1,     0, 0,"I_FFF1 SF2120;")	//⑨樽
	else
		set_chr( 72,630,	 4, 4,   275, 275,600,		 -1,     0, 0,"I_$$$1;")	//⑨樽


	if ( !F2180 )
		set_chr( 73,631,	 4, 4,   275,-275,600,		 -1,     0, 0,"I_BBB1 I_BBB1 I_BBB1 SF2180;") //⑩爆弾タル
	else
		set_chr( 73,631,	 4, 4,   275,-275,600,		 -1,     0, 0,"I_BBB1 I_BBB1 I_BBB1;") //⑩爆弾タル


	if ( !F2117 )
	{
		set_chr( 74,632,	 6, 4,  -550,   0,  0,		  2,    90, 0,"I_$$$1 SF2117;") //⑫バリケード
	}

	if ( !F2118 )
	{
		set_chr( 75,632,	 5, 3,   200, 300,  0,		  2,    90, 0,"I_$$$1 SF2118;") //⑬バリケード
	}

	if ( !F2119 )
	{
		set_chr( 76,632,	 5, 3,   325,-200,  0,		  2,    90, 0,"I_$$$1 SF2119;") //⑭バリケード
	}

	if ( !F2181 )
		set_chr( 77,631,	 5, 3,    50,-300,  0,		  2,     0, 0,"I_BBB1 I_BBB1 I_BBB1 SF2181;") //⑮爆弾タル
	else
		set_chr( 77,631,	 5, 3,    50,-300,  0,		  2,     0, 0,"I_BBB1 I_BBB1 I_BBB1;") //⑮爆弾タル

//■敵
	// 
	set_chr(  3,227,	 5, 8,  -350,-800,  0,		  2,     0, 0,";") //①敵 こぼるとないと
	set_chr(  4,227,	 5, 8,   350,-800,  0,		  2,     0, 0,";") //②敵 こぼるとないと
	set_chr(  5,227,	 5, 7,     0,-250,  0,		  2,     0, 0,";") //③敵 こぼるとないと

	set_chr(  7,260,	 5, 6,     0,-600,500,		 -1,     0, 8,"F100 V1_99;") //⑤敵 ぱさらん
//		chr_equip2( 7,	"eq_104",	"Bone_Hips",	90,		0,0,0,	0,0,0);

	set_chr(  8,227,	 5, 5,     0, 550,500,		 -1,   180, 8,"F101 WT?5 V1_99;") //⑥敵a こぼるとないと
	set_chr(  9,227,	 5, 5,     0, 850,500,		 -1,   180, 8,"F101 WT?15 V1_99;") //⑥敵b こぼるとないと

	set_chr( 10,260,	 5, 4,   350,   0,  0,		  2,     0, 0,";") //⑦敵a ぱさらん
//		chr_equip2(10,	"eq_104",	"Bone_Hips",	90,		0,0,0,	0,0,0);
	set_chr( 11,227,	 5, 4,   650,-125,  0,		  2,    45, 0,";") //⑦敵b こぼるとないと
	set_chr( 12,227,	 5, 4,   750, 125,  0,		  2,    45, 0,";") //⑦敵c こぼるとないと

	set_chr( 22,221,	 6, 3,  -900, 150,  0,		  2,    90, 0,";") //⑧敵 でくぼっと
	set_chr( 23,227,	 6, 3, -1250, 300,  0,		  2,    45, 0,";") //⑧敵c こぼるとないと
	set_chr( 24,227,	 6, 3, -1150,   0,  0,		  2,   135, 0,";") //⑧敵c こぼるとないと

	set_chr( 26,260,	 6, 4,    50,-125,500,		 -1,   180, 8,"F104 WT?5 V1_99;") //⑨敵a ぱさらん
//		chr_equip2(26,	"eq_104",	"Bone_Hips",	90,		0,0,0,	0,0,0);
	set_chr( 27,227,	 6, 4,  -150,-250,500,		 -1,   180, 8,"F104 WT?5 V1_99;") //⑨敵b こぼるとないと

	set_chr( 28,227,	 5, 4,  -850,  50,  0,		  2,   270, 0,";") //⑩敵 こぼるとないと

	set_chr( 30,221,	 4, 4,   500,   0,700,		 -1,   270, 8,"F103 V1_99;") //⑪敵 でくぼっと

//■イベント
	set_chr( 80,990,	 5, 6,     0, 450,  0,		  0,  0502, 6,"SF100;") //⑤敵エリア
	set_chr( 81,990,	 5, 5,     0, 100,  0,		  0,  0502, 6,"SF101;") //⑥敵エリア
	set_chr( 82,990,	 6, 4,  -150,-900,  0,		  0,  0902, 6,"SF104;") //⑨敵エリア

	if ( !F2102 )
	{
		set_chr( 83,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"F2102 O1_18 WT?10 C0_53 WT?20 M4_53 WT?20 C0_30 SF103 WT?20 #8_84 WT?20 M5_52 WT?30 C0_0;")//①ボタンスイッチで⑥扉を開く
		set_chr( 84,990,	 0, 0,     0,   0,  0,		  0,     0, 3,"<EV_FallBarrel1> WT?7 V3_72 M2_72 V3_73 M2_73;")//樽落下
		set_chr( 85,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"F30 WT?30 C0_52 WT?20 M4_52 WT?30 C0_0;")//⑤扉を開く
	}
	else
	{
		MOT( 53, 6, 1)
		set_chr( 84,990,	 0, 0,     0,   0,  0,		  0,     0, 8,"SF103 <EV_FallBarrel1> WT?7 V3_72 M2_72 V3_73 M2_73;")
	}

//■場面固有設定
}

//--------------------------------------------------------------------
EV_FallBarrel1
{
	jump(72,2,30, 0,0,-600,	600)
	jump(73,2,30, 0,0,-600,	600)
}

#EndScriptTable
//====================================================================

